# 身份认证设计方案
[1  简介](#user-content-1--简介)

[2  身份认证方式](#user-content-2--身份认证方式)

[3  请求头和错误码](#user-content-3--请求头和错误码)

​	

##  1  简介

身份认证也是指在计算机及计算机网络系统中确认操作者身份的过程，从而确定该用户是否具有对某种资源的访问和使用权限。

在我们系统中，一般使用用户名和密码作为身份认证的方法。



##  2  身份认证方式

用户使用系统时，必须先进行登陆。在登陆页面，用户输入用户名和密码，向服务器发起请求。

服务器对用户名和密码进行匹配校验，如果校验通过，则返回一个长字符串作为登陆令牌，或者叫做token。

在之后进行的其它请求中，始终在请求头中包含token信息。

token是具有时效性的，一般有效期为30分钟。如果token过期了，再次使用此token发起请求，会报登陆超时错误。

为了防止token过期，采用自动更新机制。在token即将到期前的一段时间内（一般是10分钟），用户发起任意请求时，返回信息中会包含一个新的token值。在客户端使用新的token替换掉旧的token，获得新的完整的有效期。

​	

##  3  请求头和错误码

我们约定了一些http请求头的字段，具体如下：

- **Authorization**   发起请求时，在header中包含此字段，它描述了登陆令牌token信息。
- **bear**   在服务器返回的http响应的header中可能包含此字段，描述了一个新的token值，用于实现token更新

此外，我们约定了一些错误码，在身份校验失败时，可以描述错误类型，具体如下：

- **401**   此错误码仅在登陆请求时可能出现，表示用户名密码校验失败
- **402**   使用已经过期的token发起请求时，会返回402错误，表示登陆超时
- **403**   使用错误的token发起请求，返回403错误


